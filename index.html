<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙˆÙ†Ø³ ÙƒÙ„ÙŠÙƒØ± - Tunisia Clicker</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f0f0f0; padding: 50px; }
        .login-box { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); display: inline-block; }
        input { padding: 10px; margin: 10px; border: 1px solid #ccc; border-radius: 5px; width: 200px; }
        button { padding: 10px 20px; background-color: #e70013; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background-color: #c40010; }
        #game-section { display: none; }
    </style>
</head>
<body>

    <div id="login-section" class="login-box">
        <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Tunisia Clicker</h2>
        <input type="text" id="username" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§...">
        <br>
        <button onclick="startGame()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
    </div>

    <div id="game-section">
        <h1 id="welcome-msg"></h1>
        <div style="font-size: 48px;" id="score">0</div>
        <button style="font-size: 24px; padding: 20px;" onclick="addPoint()">Ø§Ø¶ØºØ· Ù‡Ù†Ø§! ğŸ‡¹ğŸ‡³</button>
        <br><br>
        <button onclick="logout()">Ø®Ø±ÙˆØ¬</button>
    </div>

    <script>
        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„
        function startGame() {
            const user = document.getElementById('username').value;
            if (user.trim() === "") {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ Ø£ÙˆÙ„Ø§Ù‹!");
                return;
            }
            
            // Ø­ÙØ¸ Ø§Ù„Ø§Ø³Ù… ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
            localStorage.setItem('currentPlayer', user);
            showGame(user);
        }

        // Ø¥Ø¸Ù‡Ø§Ø± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function showGame(user) {
            document.getElementById('login-section').style.display = 'none';
            document.getElementById('game-section').style.display = 'block';
            document.getElementById('welcome-msg').innerText = "Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙŠØ§ " + user;
            
            // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª
            let savedScore = localStorage.getItem('score_' + user) || 0;
            document.getElementById('score').innerText = savedScore;
        }

        // Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø· ÙˆØ­ÙØ¸Ù‡Ø§
        function addPoint() {
            let scoreDiv = document.getElementById('score');
            let currentScore = parseInt(scoreDiv.innerText) + 1;
            scoreDiv.innerText = currentScore;
            
            let user = localStorage.getItem('currentPlayer');
            localStorage.setItem('score_' + user, currentScore);
        }

        // Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            localStorage.removeItem('currentPlayer');
            location.reload();
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„Ø§Ù‹ Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        window.onload = function() {
            let user = localStorage.getItem('currentPlayer');
            if (user) {
                showGame(user);
            }
        }
    </script>
</body>
</html>
